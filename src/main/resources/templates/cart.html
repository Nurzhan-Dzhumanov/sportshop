<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>–ö–æ—Ä–∑–∏–Ω–∞</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container py-4">

<h1 class="mb-4">üõí –í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h1>

<!-- –ï—Å–ª–∏ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞ -->
<p th:if="${#lists.isEmpty(cartItems)}" class="alert alert-info">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>

<!-- –ï—Å–ª–∏ –∫–æ—Ä–∑–∏–Ω–∞ –Ω–µ –ø—É—Å—Ç–∞ -->
<div th:if="${!#lists.isEmpty(cartItems)}" class="list-group mb-4">
    <div class="list-group-item d-flex justify-content-between align-items-center" th:each="item : ${cartItems}">
        <div>
            <h5 th:text="${item.product.name}" class="mb-1">–ù–∞–∑–≤–∞–Ω–∏–µ</h5>
            <small>
                <span>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: </span>
                <span th:text="${item.quantity}">1</span>
            </small>
        </div>

        <div class="d-flex align-items-center gap-2">
            <!-- –ö–Ω–æ–ø–∫–∞ "-" -->
            <form th:action="@{/cart/delete/{id}(id=${item.id})}" method="post">
                <button type="submit" class="btn btn-outline-danger btn-sm">‚àí</button>
            </form>

            <!-- –ö–Ω–æ–ø–∫–∞ "+" -->
            <form th:action="@{/cart/increase}" method="post">
                <input type="hidden" name="productId" th:value="${item.product.id}" />
                <input type="hidden" name="quantity" value="1" />
                <button type="submit" class="btn btn-outline-success btn-sm">+</button>
            </form>
        </div>
    </div>
</div>

<!-- –û–±—â–∞—è —Å—É–º–º–∞ -->
<div th:if="${!#lists.isEmpty(cartItems)}" class="mb-3">
    <h5>
        –û–±—â–∞—è —Å—É–º–º–∞: <span th:text="${#numbers.formatDecimal(cartTotal, 1, 2)}">0.00</span> ‚Ç∏
    </h5>
</div>

<!-- –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É -->
<form th:if="${!#lists.isEmpty(cartItems)}" th:action="@{/cart/clear}" method="post" class="mb-4">
    <button type="submit" class="btn btn-danger">–û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É</button>
</form>

<!-- –ù–∞–∑–∞–¥ -->
<a href="/products" class="btn btn-outline-primary">‚Üê –ù–∞–∑–∞–¥ –∫ —Ç–æ–≤–∞—Ä–∞–º</a>

</body>
</html>
